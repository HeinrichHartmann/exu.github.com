---
layout: post
title: Vagrant with puppet - Install webserver environment with Symfony2 project
date: 2013-04-26 10:56:12 UTC UTC
updated: 2013-04-26 10:56:12 UTC UTC
comments: false
category: setup
tags: [vagrant, pupppet, php, nginx, apache, webserver, symfony2]
---
{% include JB/setup %}



<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">"One click" Developers VM setup with Vagrant and Puppet Nginx and Symfony2</h2>
<div class="outline-text-2" id="text-1">


<p>
Before incoming Symfony2 training I've decided to upgrade a little puppet-symfony
configuration for our developers (original on <a href="https://github.com/l3l0/puppet-symfony">https://github.com/l3l0/puppet-symfony</a>).
</p>



</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">Requirements:</h3>
<div class="outline-text-3" id="text-1-1">



</div>

<div id="outline-container-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">First you must install Vagrant and Puppet:</h4>
<div class="outline-text-4" id="text-1-1-1">

<ul>
<li>Virtualbox 4.2+ (I've installed from deb package on VBox site <a href="https://www.virtualbox.org/wiki/Linux_Downloads">https://www.virtualbox.org/wiki/Linux_Downloads</a>)
</li>
<li>Vagrant - installed it from <a href="http://downloads.vagrantup.com/tags/v1.2.2">http://downloads.vagrantup.com/tags/v1.2.2</a>
</li>
<li>Puppet - installed from gem install puppet (You'll need ruby and bundler)
</li>
</ul>


</div>

</div>

<div id="outline-container-1-1-2" class="outline-4">
<h4 id="sec-1-1-2">Next Clone the puppet modules and manifests into your project:</h4>
<div class="outline-text-4" id="text-1-1-2">





<pre class="example">cd your-project
git clone git://github.com/exu/puppet-symfony.git .puppet
</pre>


</div>

</div>

<div id="outline-container-1-1-3" class="outline-4">
<h4 id="sec-1-1-3">Create a Vagrantfile and configure manifests and module paths. You can use provided example:</h4>
<div class="outline-text-4" id="text-1-1-3">





<pre class="example">cat .puppet/Vagrantfile |
    sed -e 's/manifests_path = "manifests"/manifests_path = ".puppet\/manifests"/g' |
    sed -e 's/module_path = "modules"/module_path = ".puppet\/modules"/g' &gt; Vagrantfile
</pre>



</div>

</div>

<div id="outline-container-1-1-4" class="outline-4">
<h4 id="sec-1-1-4">Boot your virtual machine:</h4>
<div class="outline-text-4" id="text-1-1-4">





<pre class="example">vagrant up
</pre>


</div>

</div>

<div id="outline-container-1-1-5" class="outline-4">
<h4 id="sec-1-1-5">Finally ssh into it once it boots:</h4>
<div class="outline-text-4" id="text-1-1-5">





<pre class="example">vagrant ssh
</pre>


</div>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">Networking details</h3>
<div class="outline-text-3" id="text-1-2">


<ul>
<li>VMs network is configured in host-only mode to handle IP 10.0.100.110.
</li>
<li>Your client accessing it with IP: 10.0.100.110.
</li>
<li>You can <code>ssh vagrant@10.0.100.110</code> (default password is <code>vagrant</code>)
</li>
</ul>

</div>
</div>
</div>
